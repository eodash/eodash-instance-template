import{g as E,b as v,d as y,ab as w,p as P,y as W,r as F,am as O,L as H,w as V,a as T,N as M,D as q,ak as I,ae as N,e as U,ac as j,af as z,bu as Q,bv as X,ag as Y,f as Z,h as G,i as J,Q as K,R as _,ah as ee,ad as te,ai as ae,bz as oe,bA as ne,aj as se,bD as ie,bE as re,bQ as le,a5 as k,a0 as S,Z as x,$ as ce,a2 as b,a3 as ue,a4 as C,bR as de}from"./index-4ddEMaIb.js";import{m as fe,V as B}from"./VOverlay-BbuQewAt.js";import{a as p,d as me,s as D,c as ge,g as he,n as ve,b as ye,f as pe}from"./forwardRefs-yeF8TVW_.js";import"./transition-D6I_yLTN.js";const xe=P({target:[Object,Array]},"v-dialog-transition"),be=E()({name:"VDialogTransition",props:xe(),setup(e,r){let{slots:o}=r;const l={onBeforeEnter(t){t.style.pointerEvents="none",t.style.visibility="hidden"},async onEnter(t,c){await new Promise(s=>requestAnimationFrame(s)),await new Promise(s=>requestAnimationFrame(s)),t.style.visibility="";const{x:a,y:i,sx:d,sy:f,speed:n}=L(e.target,t),u=p(t,[{transform:`translate(${a}px, ${i}px) scale(${d}, ${f})`,opacity:0},{}],{duration:225*n,easing:me});A(t)?.forEach(s=>{p(s,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*n,easing:D})}),u.finished.then(()=>c())},onAfterEnter(t){t.style.removeProperty("pointer-events")},onBeforeLeave(t){t.style.pointerEvents="none"},async onLeave(t,c){await new Promise(s=>requestAnimationFrame(s));const{x:a,y:i,sx:d,sy:f,speed:n}=L(e.target,t);p(t,[{},{transform:`translate(${a}px, ${i}px) scale(${d}, ${f})`,opacity:0}],{duration:125*n,easing:ge}).finished.then(()=>c()),A(t)?.forEach(s=>{p(s,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*n,easing:D})})},onAfterLeave(t){t.style.removeProperty("pointer-events")}};return()=>e.target?v(w,y({name:"dialog-transition"},l,{css:!1}),o):v(w,{name:"dialog-transition"},o)}});function A(e){const r=e.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list")?.children;return r&&[...r]}function L(e,r){const o=he(e),l=ve(r),[t,c]=getComputedStyle(r).transformOrigin.split(" ").map(R=>parseFloat(R)),[a,i]=getComputedStyle(r).getPropertyValue("--v-overlay-anchor-origin").split(" ");let d=o.left+o.width/2;a==="left"||i==="left"?d-=o.width/2:(a==="right"||i==="right")&&(d+=o.width/2);let f=o.top+o.height/2;a==="top"||i==="top"?f-=o.height/2:(a==="bottom"||i==="bottom")&&(f+=o.height/2);const n=o.width/l.width,u=o.height/l.height,s=Math.max(1,n,u),m=n/s||0,h=u/s||0,g=l.width*l.height/(window.innerWidth*window.innerHeight),$=g>.12?Math.min(1.5,(g-.12)*10+1):1;return{x:d-(t+l.left),y:f-(c+l.top),sx:m,sy:h,speed:$}}const Ee=P({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...fe({origin:"center center",scrollStrategy:"block",transition:{component:be},zIndex:2400})},"VDialog"),Pe=E()({name:"VDialog",props:Ee(),emits:{"update:modelValue":e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,r){let{emit:o,slots:l}=r;const t=W(e,"modelValue"),{scopeId:c}=ye(),a=F();function i(n){const u=n.relatedTarget,s=n.target;if(u!==s&&a.value?.contentEl&&a.value?.globalTop&&![document,a.value.contentEl].includes(s)&&!a.value.contentEl.contains(s)){const m=M(a.value.contentEl);if(!m.length)return;const h=m[0],g=m[m.length-1];u===h?g.focus():h.focus()}}O(()=>{document.removeEventListener("focusin",i)}),H&&V(()=>t.value&&e.retainFocus,n=>{n?document.addEventListener("focusin",i):document.removeEventListener("focusin",i)},{immediate:!0});function d(){o("afterEnter"),a.value?.contentEl&&!a.value.contentEl.contains(document.activeElement)&&a.value.contentEl.focus({preventScroll:!0})}function f(){o("afterLeave")}return V(t,async n=>{n||(await q(),a.value.activatorEl?.focus({preventScroll:!0}))}),T(()=>{const n=B.filterProps(e),u=y({"aria-haspopup":"dialog"},e.activatorProps),s=y({tabindex:-1},e.contentProps);return v(B,y({ref:a,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable},e.class],style:e.style},n,{modelValue:t.value,"onUpdate:modelValue":m=>t.value=m,"aria-modal":"true",activatorProps:u,contentProps:s,height:e.fullscreen?void 0:e.height,width:e.fullscreen?void 0:e.width,maxHeight:e.fullscreen?void 0:e.maxHeight,maxWidth:e.fullscreen?void 0:e.maxWidth,role:"dialog",onAfterEnter:d,onAfterLeave:f},c),{activator:l.activator,default:function(){for(var m=arguments.length,h=new Array(m),g=0;g<m;g++)h[g]=arguments[g];return v(I,{root:"VDialog"},{default:()=>[l.default?.(...h)]})}})}),pe({},a)}}),we=P({color:String,...N(),...U(),...j(),...z(),...Q(),...X(),...Y(),...Z(),...G()},"VSheet"),Ve=E()({name:"VSheet",props:we(),setup(e,r){let{slots:o}=r;const{themeClasses:l}=J(e),{backgroundColorClasses:t,backgroundColorStyles:c}=K(_(e,"color")),{borderClasses:a}=ee(e),{dimensionStyles:i}=te(e),{elevationClasses:d}=ae(e),{locationStyles:f}=oe(e),{positionClasses:n}=ne(e),{roundedClasses:u}=se(e);return T(()=>v(e.tag,{class:["v-sheet",l.value,t.value,a.value,d.value,n.value,u.value,e.class],style:[c.value,i.value,f.value,e.style]},o)),{}}}),ke={key:1},Ae={__name:"PopUp",props:ie({widget:{type:Object,default:void 0},maxWidth:{type:String,default:"500px"},maxHeight:{type:String,default:"500px"},width:{type:String,default:"500px"},height:{type:String,default:"500px"}},{modelValue:{type:Boolean,required:!0,default:!1},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const r=re(e,"modelValue"),o=e,l={maxWidth:o.maxWidth,maxHeight:o.maxHeight,width:o.width,height:o.height},[t]=le([o?.widget]);return(c,a)=>(x(),k("span",null,[v(Pe,y(l,{absolute:"",scrollable:"","scroll-strategy":"block","close-on-back":"",modelValue:r.value,"onUpdate:modelValue":a[0]||(a[0]=i=>r.value=i)}),{default:S(()=>[v(Ve,null,{default:S(()=>[e.widget?(x(),ce(ue(b(t).component),y({key:b(t).id},b(t).props),null,16)):C("v-if",!0),c.$slots.default?(x(),k("span",ke,[de(c.$slots,"default")])):C("v-if",!0)]),_:3})]),_:3},16,["modelValue"])]))}};export{Ae as default};
