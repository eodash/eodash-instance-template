import{aw as De,ax as Ve,p as j,r as M,L as W,ao as de,w as B,ay as N,az as ot,aA as we,aB as oe,aC as ae,aD as be,c as w,D as me,aE as Ee,C as _,al as xe,aq as ye,aF as _e,aG as at,aH as Ne,x as ge,aI as Se,d as R,aJ as rt,s as Y,H as it,Z as He,aK as Ie,q as lt,aL as st,aM as ct,e as ut,ac as ft,h as vt,g as $e,y as We,i as dt,j as mt,Q as yt,R as gt,ad as ht,am as wt,aN as bt,aO as Et,a as je,b as T,aP as xt,t as ue,B as St,v as pt,F as qe,ab as kt,o as Ot,aQ as Ct,aR as Pt,aS as ze,T as At,aT as Tt,aU as Bt,aV as Lt,$ as re,a6 as Mt,a1 as K,a3 as ie,aW as Rt,W as Ft,a9 as pe,aX as Dt,aY as Vt,a0 as ke,M as Oe,aZ as _t,V as Ce,a_ as Nt,a$ as X}from"./index-B5c5Pwhg.js";import{t as Ht,e as It}from"./eodashSTAC-D8JkBEnM.js";import{g as $t,B as le,c as Pe,n as Wt,m as jt,u as qt,b as Ye,a as zt,s as Yt,f as Ut}from"./forwardRefs-ayMwIJVs.js";import{m as Gt,M as Kt}from"./transition-DCXsv86C.js";import"./_commonjsHelpers-Cpj98o6Y.js";const Z=new WeakMap;function Xt(e,t){Object.keys(t).forEach(n=>{if(De(n)){const a=Ve(n),r=Z.get(e);if(t[n]==null)r?.forEach(l=>{const[o,i]=l;o===a&&(e.removeEventListener(a,i),r.delete(l))});else if(!r||![...r].some(l=>l[0]===a&&l[1]===t[n])){e.addEventListener(a,t[n]);const l=r||new Set;l.add([a,t[n]]),Z.has(e)||Z.set(e,l)}}else t[n]==null?e.removeAttribute(n):e.setAttribute(n,t[n])})}function Zt(e,t){Object.keys(t).forEach(n=>{if(De(n)){const a=Ve(n),r=Z.get(e);r?.forEach(l=>{const[o,i]=l;o===a&&(e.removeEventListener(a,i),r.delete(l))})}else e.removeAttribute(n)})}function Ue(e){if(typeof e.getRootNode!="function"){for(;e.parentNode;)e=e.parentNode;return e!==document?null:document}const t=e.getRootNode();return t!==document&&t.getRootNode({composed:!0})!==document?null:t}function Qt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(;e;){if(t?Jt(e):he(e))return e;e=e.parentElement}return document.scrollingElement}function Q(e,t){const n=[];if(t&&e&&!t.contains(e))return n;for(;e&&(he(e)&&n.push(e),e!==t);)e=e.parentElement;return n}function he(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e);return t.overflowY==="scroll"||t.overflowY==="auto"&&e.scrollHeight>e.clientHeight}function Jt(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e);return["scroll","auto"].includes(t.overflowY)}function en(e){for(;e;){if(window.getComputedStyle(e).position==="fixed")return!0;e=e.offsetParent}return!1}function tn(){return!0}function Ge(e,t,n){if(!e||Ke(e,n)===!1)return!1;const a=Ue(t);if(typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&a.host===e.target)return!1;const r=(typeof n.value=="object"&&n.value.include||(()=>[]))();return r.push(t),!r.some(l=>l?.contains(e.target))}function Ke(e,t){return(typeof t.value=="object"&&t.value.closeConditional||tn)(e)}function nn(e,t,n){const a=typeof n.value=="function"?n.value:n.value.handler;t._clickOutside.lastMousedownWasOutside&&Ge(e,t,n)&&setTimeout(()=>{Ke(e,n)&&a&&a(e)},0)}function Ae(e,t){const n=Ue(e);t(document),typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&t(n)}const on={mounted(e,t){const n=r=>nn(r,e,t),a=r=>{e._clickOutside.lastMousedownWasOutside=Ge(r,e,t)};Ae(e,r=>{r.addEventListener("click",n,!0),r.addEventListener("mousedown",a,!0)}),e._clickOutside||(e._clickOutside={lastMousedownWasOutside:!1}),e._clickOutside[t.instance.$.uid]={onClick:n,onMousedown:a}},unmounted(e,t){e._clickOutside&&(Ae(e,n=>{if(!n||!e._clickOutside?.[t.instance.$.uid])return;const{onClick:a,onMousedown:r}=e._clickOutside[t.instance.$.uid];n.removeEventListener("click",a,!0),n.removeEventListener("mousedown",r,!0)}),delete e._clickOutside[t.instance.$.uid])}};function se(e,t){return{x:e.x+t.x,y:e.y+t.y}}function an(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Te(e,t){if(e.side==="top"||e.side==="bottom"){const{side:n,align:a}=e,r=a==="left"?0:a==="center"?t.width/2:a==="right"?t.width:a,l=n==="top"?0:n==="bottom"?t.height:n;return se({x:r,y:l},t)}else if(e.side==="left"||e.side==="right"){const{side:n,align:a}=e,r=n==="left"?0:n==="right"?t.width:n,l=a==="top"?0:a==="center"?t.height/2:a==="bottom"?t.height:a;return se({x:r,y:l},t)}return se({x:t.width/2,y:t.height/2},t)}const Xe={static:sn,connected:un},rn=j({locationStrategy:{type:[String,Function],default:"static",validator:e=>typeof e=="function"||e in Xe},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"VOverlay-location-strategies");function ln(e,t){const n=M({}),a=M();W&&de(()=>!!(t.isActive.value&&e.locationStrategy),l=>{B(()=>e.locationStrategy,l),N(()=>{window.removeEventListener("resize",r),a.value=void 0}),window.addEventListener("resize",r,{passive:!0}),typeof e.locationStrategy=="function"?a.value=e.locationStrategy(t,e,n)?.updateLocation:a.value=Xe[e.locationStrategy](t,e,n)?.updateLocation});function r(l){a.value?.(l)}return{contentStyles:n,updateLocation:a}}function sn(){}function cn(e,t){t?e.style.removeProperty("left"):e.style.removeProperty("right");const n=Wt(e);return t?n.x+=parseFloat(e.style.right||0):n.x-=parseFloat(e.style.left||0),n.y-=parseFloat(e.style.top||0),n}function un(e,t,n){(Array.isArray(e.target.value)||en(e.target.value))&&Object.assign(n.value,{position:"fixed",top:0,[e.isRtl.value?"right":"left"]:0});const{preferredAnchor:r,preferredOrigin:l}=ot(()=>{const f=we(t.location,e.isRtl.value),v=t.origin==="overlap"?f:t.origin==="auto"?oe(f):we(t.origin,e.isRtl.value);return f.side===v.side&&f.align===ae(v).align?{preferredAnchor:be(f),preferredOrigin:be(v)}:{preferredAnchor:f,preferredOrigin:v}}),[o,i,c,u]=["minWidth","minHeight","maxWidth","maxHeight"].map(f=>w(()=>{const v=parseFloat(t[f]);return isNaN(v)?1/0:v})),d=w(()=>{if(Array.isArray(t.offset))return t.offset;if(typeof t.offset=="string"){const f=t.offset.split(" ").map(parseFloat);return f.length<2&&f.push(0),f}return typeof t.offset=="number"?[t.offset,0]:[0,0]});let b=!1;const x=new ResizeObserver(()=>{b&&E()});B([e.target,e.contentEl],(f,v)=>{let[C,P]=f,[S,g]=v;S&&!Array.isArray(S)&&x.unobserve(S),C&&!Array.isArray(C)&&x.observe(C),g&&x.unobserve(g),P&&x.observe(P)},{immediate:!0}),N(()=>{x.disconnect()});function E(){if(b=!1,requestAnimationFrame(()=>b=!0),!e.target.value||!e.contentEl.value)return;const f=$t(e.target.value),v=cn(e.contentEl.value,e.isRtl.value),C=Q(e.contentEl.value),P=12;C.length||(C.push(document.documentElement),e.contentEl.value.style.top&&e.contentEl.value.style.left||(v.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),v.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const S=C.reduce((p,h)=>{const m=h.getBoundingClientRect(),y=new le({x:h===document.documentElement?0:m.x,y:h===document.documentElement?0:m.y,width:h.clientWidth,height:h.clientHeight});return p?new le({x:Math.max(p.left,y.left),y:Math.max(p.top,y.top),width:Math.min(p.right,y.right)-Math.max(p.left,y.left),height:Math.min(p.bottom,y.bottom)-Math.max(p.top,y.top)}):y},void 0);S.x+=P,S.y+=P,S.width-=P*2,S.height-=P*2;let g={anchor:r.value,origin:l.value};function H(p){const h=new le(v),m=Te(p.anchor,f),y=Te(p.origin,h);let{x:D,y:L}=an(m,y);switch(p.anchor.side){case"top":L-=d.value[0];break;case"bottom":L+=d.value[0];break;case"left":D-=d.value[0];break;case"right":D+=d.value[0];break}switch(p.anchor.align){case"top":L-=d.value[1];break;case"bottom":L+=d.value[1];break;case"left":D-=d.value[1];break;case"right":D+=d.value[1];break}return h.x+=D,h.y+=L,h.width=Math.min(h.width,c.value),h.height=Math.min(h.height,u.value),{overflows:Pe(h,S),x:D,y:L}}let F=0,A=0;const s={x:0,y:0},I={x:!1,y:!1};let ee=-1;for(;!(ee++>10);){const{x:p,y:h,overflows:m}=H(g);F+=p,A+=h,v.x+=p,v.y+=h;{const y=Ee(g.anchor),D=m.x.before||m.x.after,L=m.y.before||m.y.after;let q=!1;if(["x","y"].forEach(O=>{if(O==="x"&&D&&!I.x||O==="y"&&L&&!I.y){const V={anchor:{...g.anchor},origin:{...g.origin}},U=O==="x"?y==="y"?ae:oe:y==="y"?oe:ae;V.anchor=U(V.anchor),V.origin=U(V.origin);const{overflows:$}=H(V);($[O].before<=m[O].before&&$[O].after<=m[O].after||$[O].before+$[O].after<(m[O].before+m[O].after)/2)&&(g=V,q=I[O]=!0)}}),q)continue}m.x.before&&(F+=m.x.before,v.x+=m.x.before),m.x.after&&(F-=m.x.after,v.x-=m.x.after),m.y.before&&(A+=m.y.before,v.y+=m.y.before),m.y.after&&(A-=m.y.after,v.y-=m.y.after);{const y=Pe(v,S);s.x=S.width-y.x.before-y.x.after,s.y=S.height-y.y.before-y.y.after,F+=y.x.before,v.x+=y.x.before,A+=y.y.before,v.y+=y.y.before}break}const te=Ee(g.anchor);return Object.assign(n.value,{"--v-overlay-anchor-origin":`${g.anchor.side} ${g.anchor.align}`,transformOrigin:`${g.origin.side} ${g.origin.align}`,top:_(ce(A)),left:e.isRtl.value?void 0:_(ce(F)),right:e.isRtl.value?_(ce(-F)):void 0,minWidth:_(te==="y"?Math.min(o.value,f.width):o.value),maxWidth:_(Be(xe(s.x,o.value===1/0?0:o.value,c.value))),maxHeight:_(Be(xe(s.y,i.value===1/0?0:i.value,u.value)))}),{available:s,contentBox:v}}return B(()=>[r.value,l.value,t.offset,t.minWidth,t.minHeight,t.maxWidth,t.maxHeight],()=>E()),me(()=>{const f=E();if(!f)return;const{available:v,contentBox:C}=f;C.height>v.y&&requestAnimationFrame(()=>{E(),requestAnimationFrame(()=>{E()})})}),{updateLocation:E}}function ce(e){return Math.round(e*devicePixelRatio)/devicePixelRatio}function Be(e){return Math.ceil(e*devicePixelRatio)/devicePixelRatio}let fe=!0;const J=[];function fn(e){!fe||J.length?(J.push(e),ve()):(fe=!1,e(),ve())}let Le=-1;function ve(){cancelAnimationFrame(Le),Le=requestAnimationFrame(()=>{const e=J.shift();e&&e(),J.length?ve():fe=!0})}const Ze={none:null,close:mn,block:yn,reposition:gn},vn=j({scrollStrategy:{type:[String,Function],default:"block",validator:e=>typeof e=="function"||e in Ze}},"VOverlay-scroll-strategies");function dn(e,t){if(!W)return;let n;ye(async()=>{n?.stop(),t.isActive.value&&e.scrollStrategy&&(n=_e(),await new Promise(a=>setTimeout(a)),n.active&&n.run(()=>{typeof e.scrollStrategy=="function"?e.scrollStrategy(t,e,n):Ze[e.scrollStrategy]?.(t,e,n)}))}),N(()=>{n?.stop()})}function mn(e){function t(n){e.isActive.value=!1}Qe(e.targetEl.value??e.contentEl.value,t)}function yn(e,t){const n=e.root.value?.offsetParent,a=[...new Set([...Q(e.targetEl.value,t.contained?n:void 0),...Q(e.contentEl.value,t.contained?n:void 0)])].filter(o=>!o.classList.contains("v-overlay-scroll-blocked")),r=window.innerWidth-document.documentElement.offsetWidth,l=(o=>he(o)&&o)(n||document.documentElement);l&&e.root.value.classList.add("v-overlay--scroll-blocked"),a.forEach((o,i)=>{o.style.setProperty("--v-body-scroll-x",_(-o.scrollLeft)),o.style.setProperty("--v-body-scroll-y",_(-o.scrollTop)),o!==document.documentElement&&o.style.setProperty("--v-scrollbar-offset",_(r)),o.classList.add("v-overlay-scroll-blocked")}),N(()=>{a.forEach((o,i)=>{const c=parseFloat(o.style.getPropertyValue("--v-body-scroll-x")),u=parseFloat(o.style.getPropertyValue("--v-body-scroll-y")),d=o.style.scrollBehavior;o.style.scrollBehavior="auto",o.style.removeProperty("--v-body-scroll-x"),o.style.removeProperty("--v-body-scroll-y"),o.style.removeProperty("--v-scrollbar-offset"),o.classList.remove("v-overlay-scroll-blocked"),o.scrollLeft=-c,o.scrollTop=-u,o.style.scrollBehavior=d}),l&&e.root.value.classList.remove("v-overlay--scroll-blocked")})}function gn(e,t,n){let a=!1,r=-1,l=-1;function o(i){fn(()=>{const c=performance.now();e.updateLocation.value?.(i),a=(performance.now()-c)/(1e3/60)>2})}l=(typeof requestIdleCallback>"u"?i=>i():requestIdleCallback)(()=>{n.run(()=>{Qe(e.targetEl.value??e.contentEl.value,i=>{a?(cancelAnimationFrame(r),r=requestAnimationFrame(()=>{r=requestAnimationFrame(()=>{o(i)})})):o(i)})})}),N(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(l),cancelAnimationFrame(r)})}function Qe(e,t){const n=[document,...Q(e)];n.forEach(a=>{a.addEventListener("scroll",t,{passive:!0})}),N(()=>{n.forEach(a=>{a.removeEventListener("scroll",t)})})}const hn=Symbol.for("vuetify:v-menu"),wn=j({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function bn(e,t){let n=()=>{};function a(o){n?.();const i=Number(o?e.openDelay:e.closeDelay);return new Promise(c=>{n=at(i,()=>{t?.(o),c(o)})})}function r(){return a(!0)}function l(){return a(!1)}return{clearDelay:n,runOpenDelay:r,runCloseDelay:l}}const En=j({target:[String,Object],activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...wn()},"VOverlay-activator");function xn(e,t){let{isActive:n,isTop:a}=t;const r=Ne("useActivator"),l=M();let o=!1,i=!1,c=!0;const u=w(()=>e.openOnFocus||e.openOnFocus==null&&e.openOnHover),d=w(()=>e.openOnClick||e.openOnClick==null&&!e.openOnHover&&!u.value),{runOpenDelay:b,runCloseDelay:x}=bn(e,s=>{s===(e.openOnHover&&o||u.value&&i)&&!(e.openOnHover&&n.value&&!a.value)&&(n.value!==s&&(c=!0),n.value=s)}),E=M(),f={onClick:s=>{s.stopPropagation(),l.value=s.currentTarget||s.target,n.value||(E.value=[s.clientX,s.clientY]),n.value=!n.value},onMouseenter:s=>{s.sourceCapabilities?.firesTouchEvents||(o=!0,l.value=s.currentTarget||s.target,b())},onMouseleave:s=>{o=!1,x()},onFocus:s=>{rt(s.target,":focus-visible")!==!1&&(i=!0,s.stopPropagation(),l.value=s.currentTarget||s.target,b())},onBlur:s=>{i=!1,s.stopPropagation(),x()}},v=w(()=>{const s={};return d.value&&(s.onClick=f.onClick),e.openOnHover&&(s.onMouseenter=f.onMouseenter,s.onMouseleave=f.onMouseleave),u.value&&(s.onFocus=f.onFocus,s.onBlur=f.onBlur),s}),C=w(()=>{const s={};if(e.openOnHover&&(s.onMouseenter=()=>{o=!0,b()},s.onMouseleave=()=>{o=!1,x()}),u.value&&(s.onFocusin=()=>{i=!0,b()},s.onFocusout=()=>{i=!1,x()}),e.closeOnContentClick){const I=ge(hn,null);s.onClick=()=>{n.value=!1,I?.closeParents()}}return s}),P=w(()=>{const s={};return e.openOnHover&&(s.onMouseenter=()=>{c&&(o=!0,c=!1,b())},s.onMouseleave=()=>{o=!1,x()}),s});B(a,s=>{s&&(e.openOnHover&&!o&&(!u.value||!i)||u.value&&!i&&(!e.openOnHover||!o))&&(n.value=!1)}),B(n,s=>{s||setTimeout(()=>{E.value=void 0})},{flush:"post"});const S=Se();ye(()=>{S.value&&me(()=>{l.value=S.el})});const g=Se(),H=w(()=>e.target==="cursor"&&E.value?E.value:g.value?g.el:Je(e.target,r)||l.value),F=w(()=>Array.isArray(H.value)?void 0:H.value);let A;return B(()=>!!e.activator,s=>{s&&W?(A=_e(),A.run(()=>{Sn(e,r,{activatorEl:l,activatorEvents:v})})):A&&A.stop()},{flush:"post",immediate:!0}),N(()=>{A?.stop()}),{activatorEl:l,activatorRef:S,target:H,targetEl:F,targetRef:g,activatorEvents:v,contentEvents:C,scrimEvents:P}}function Sn(e,t,n){let{activatorEl:a,activatorEvents:r}=n;B(()=>e.activator,(c,u)=>{if(u&&c!==u){const d=i(u);d&&o(d)}c&&me(()=>l())},{immediate:!0}),B(()=>e.activatorProps,()=>{l()}),N(()=>{o()});function l(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:i(),u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;c&&Xt(c,R(r.value,u))}function o(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:i(),u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;c&&Zt(c,R(r.value,u))}function i(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.activator;const u=Je(c,t);return a.value=u?.nodeType===Node.ELEMENT_NODE?u:void 0,a.value}}function Je(e,t){if(!e)return;let n;if(e==="parent"){let a=t?.proxy?.$el?.parentNode;for(;a?.hasAttribute("data-no-activator");)a=a.parentNode;n=a}else typeof e=="string"?n=document.querySelector(e):"$el"in e?n=e.$el:n=e;return n}function pn(){if(!W)return Y(!1);const{ssr:e}=it();if(e){const t=Y(!1);return He(()=>{t.value=!0}),t}else return Y(!0)}const Me=Symbol.for("vuetify:stack"),z=Ie([]);function kn(e,t,n){const a=Ne("useStack"),r=!n,l=ge(Me,void 0),o=Ie({activeChildren:new Set});lt(Me,o);const i=Y(+t.value);de(e,()=>{const d=z.at(-1)?.[1];i.value=d?d+10:+t.value,r&&z.push([a.uid,i.value]),l?.activeChildren.add(a.uid),N(()=>{if(r){const b=st(z).findIndex(x=>x[0]===a.uid);z.splice(b,1)}l?.activeChildren.delete(a.uid)})});const c=Y(!0);r&&ye(()=>{const d=z.at(-1)?.[0]===a.uid;setTimeout(()=>c.value=d)});const u=w(()=>!o.activeChildren.size);return{globalTop:ct(c),localTop:u,stackStyles:w(()=>({zIndex:i.value}))}}function On(e){return{teleportTarget:w(()=>{const n=e.value;if(n===!0||!W)return;const a=n===!1?document.body:typeof n=="string"?document.querySelector(n):n;if(a==null)return;let r=a.querySelector(":scope > .v-overlay-container");return r||(r=document.createElement("div"),r.className="v-overlay-container",a.appendChild(r)),r})}}function Cn(e){const{modelValue:t,color:n,...a}=e;return T(kt,{name:"fade-transition",appear:!0},{default:()=>[e.modelValue&&T("div",R({class:["v-overlay__scrim",e.color.backgroundColorClasses.value],style:e.color.backgroundColorStyles.value},a),null)]})}const et=j({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,opacity:[Number,String],noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},...En(),...ut(),...ft(),...jt(),...rn(),...vn(),...vt(),...Gt()},"VOverlay"),Re=$e()({name:"VOverlay",directives:{ClickOutside:on},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...et()},emits:{"click:outside":e=>!0,"update:modelValue":e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,t){let{slots:n,attrs:a,emit:r}=t;const l=We(e,"modelValue"),o=w({get:()=>l.value,set:k=>{k&&e.disabled||(l.value=k)}}),{teleportTarget:i}=On(w(()=>e.attach||e.contained)),{themeClasses:c}=dt(e),{rtlClasses:u,isRtl:d}=mt(),{hasContent:b,onAfterLeave:x}=qt(e,o),E=yt(w(()=>typeof e.scrim=="string"?e.scrim:null)),{globalTop:f,localTop:v,stackStyles:C}=kn(o,gt(e,"zIndex"),e._disableGlobalStack),{activatorEl:P,activatorRef:S,target:g,targetEl:H,targetRef:F,activatorEvents:A,contentEvents:s,scrimEvents:I}=xn(e,{isActive:o,isTop:v}),{dimensionStyles:ee}=ht(e),te=pn(),{scopeId:p}=Ye();B(()=>e.disabled,k=>{k&&(o.value=!1)});const h=M(),m=M(),y=M(),{contentStyles:D,updateLocation:L}=ln(e,{isRtl:d,contentEl:y,target:g,isActive:o});dn(e,{root:h,contentEl:y,targetEl:H,isActive:o,updateLocation:L});function q(k){r("click:outside",k),e.persistent?G():o.value=!1}function O(k){return o.value&&f.value&&(!e.scrim||k.target===m.value)}W&&B(o,k=>{k?window.addEventListener("keydown",V):window.removeEventListener("keydown",V)},{immediate:!0}),wt(()=>{W&&window.removeEventListener("keydown",V)});function V(k){k.key==="Escape"&&f.value&&(e.persistent?G():(o.value=!1,y.value?.contains(document.activeElement)&&P.value?.focus()))}const U=bt();de(()=>e.closeOnBack,()=>{Et(U,k=>{f.value&&o.value?(k(!1),e.persistent?G():o.value=!1):k()})});const $=M();B(()=>o.value&&(e.absolute||e.contained)&&i.value==null,k=>{if(k){const ne=Qt(h.value);ne&&ne!==document.scrollingElement&&($.value=ne.scrollTop)}});function G(){e.noClickAnimation||y.value&&zt(y.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:Yt})}function tt(){r("afterEnter")}function nt(){x(),r("afterLeave")}return je(()=>T(qe,null,[n.activator?.({isActive:o.value,targetRef:F,props:R({ref:S},A.value,e.activatorProps)}),te.value&&b.value&&T(xt,{disabled:!i.value,to:i.value},{default:()=>[T("div",R({class:["v-overlay",{"v-overlay--absolute":e.absolute||e.contained,"v-overlay--active":o.value,"v-overlay--contained":e.contained},c.value,u.value,e.class],style:[C.value,{"--v-overlay-opacity":e.opacity,top:_($.value)},e.style],ref:h},p,a),[T(Cn,R({color:E,modelValue:o.value&&!!e.scrim,ref:m},I.value),null),T(Kt,{appear:!0,persisted:!0,transition:e.transition,target:g.value,onAfterEnter:tt,onAfterLeave:nt},{default:()=>[ue(T("div",R({ref:y,class:["v-overlay__content",e.contentClass],style:[ee.value,D.value]},s.value,e.contentProps),[n.default?.({isActive:o})]),[[St,o.value],[pt("click-outside"),{handler:q,closeConditional:O,include:()=>[P.value]}]])]})])]})])),{activatorEl:P,scrimEl:m,target:g,animateClick:G,contentEl:y,globalTop:f,localTop:v,updateLocation:L}}}),Pn=j({id:String,text:String,...Ot(et({closeOnBack:!1,location:"end",locationStrategy:"connected",eager:!0,minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:!1}),["absolute","persistent"])},"VTooltip"),An=$e()({name:"VTooltip",props:Pn(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const a=We(e,"modelValue"),{scopeId:r}=Ye(),l=Ct(),o=w(()=>e.id||`v-tooltip-${l}`),i=M(),c=w(()=>e.location.split(" ").length>1?e.location:e.location+" center"),u=w(()=>e.origin==="auto"||e.origin==="overlap"||e.origin.split(" ").length>1||e.location.split(" ").length>1?e.origin:e.origin+" center"),d=w(()=>e.transition?e.transition:a.value?"scale-transition":"fade-transition"),b=w(()=>R({"aria-describedby":o.value},e.activatorProps));return je(()=>{const x=Re.filterProps(e);return T(Re,R({ref:i,class:["v-tooltip",e.class],style:e.style,id:o.value},x,{modelValue:a.value,"onUpdate:modelValue":E=>a.value=E,transition:d.value,absolute:!0,location:c.value,origin:u.value,persistent:!0,role:"tooltip",activatorProps:b.value,_disableGlobalStack:!0},r),{activator:n.activator,default:function(){for(var E=arguments.length,f=new Array(E),v=0;v<E;v++)f[v]=arguments[v];return n.default?.(...f)??e.text}})}),Ut({},i)}});function Tn(e,t){const n=typeof e=="string"?Pt(e):e,a=Bn(n,t);return{mounted:a,updated:a,unmounted(r){ze(null,r)}}}function Bn(e,t){return function(n,a,r){const l=typeof t=="function"?t(a):t,o=a.value?.text??a.value??l?.text,i=At(a.value)?a.value:{},c=()=>o??n.innerHTML,u=(r.ctx===a.instance.$?Ln(r,a.instance.$)?.provides:r.ctx?.provides)??a.instance.$.provides,d=Tt(e,R(l,i),c);d.appContext=Object.assign(Object.create(null),a.instance.$.appContext,{provides:u}),ze(d,n)}}function Ln(e,t){const n=new Set,a=l=>{for(const o of l){if(!o)continue;if(o===e)return!0;n.add(o);let i;if(o.suspense?i=a([o.ssContent]):Array.isArray(o.children)?i=a(o.children):o.component?.vnode&&(i=a([o.component?.subTree])),i)return i;n.delete(o)}return!1};if(!a([t.subTree]))throw new Error("Could not find original vnode");const r=Array.from(n).reverse();for(const l of r)if(l.component)return l.component;return t}const Fe=Tn(An,e=>({activator:"parent",location:e.arg?.replace("-"," ")??"top",text:typeof e.value=="boolean"?void 0:e.value})),Mn={class:"flex rounded-lg border border-gray-300 dark:border-gray-600",style:{margin:"2px"}},Rn=["value"],Hn={__name:"EodashDatePicker",setup(e){function t(o){if(r.value&&r.value.length>0){let i=o?1/0:-1/0;r.value.forEach(c=>{c?.dates&&c.dates.forEach(u=>{u instanceof Date&&(!o&&u.getTime()>i||o&&u.getTime()<i)&&(i=u.getTime())})}),i!==0&&(l.value=new Date(i))}}const n=ge(Ft),a=M({input:"YYYY-MM-DD"}),r=M([]),l=w({get(){return X.value?new Date(X.value):new Date},set(o){o instanceof Date&&!isNaN(o.getTime())?X.value=new Date(o.getTime()-o.getTimezoneOffset()*6e4).toISOString():X.value=new Date().toISOString()}});return He(()=>{const{selectedStac:o}=Bt(Lt());B([o],async([i])=>{if(i){const c=Ht(`./${i.id}/collection.json`,n.stacEndpoint),u=It(o.value,c),d=["#009E73","#0072B2","#E69F00","#CC79A7","#56B4E9","#D55E00"];for(let b=0;b<u.length;b++){const E=(await(await fetch(u[b])).json()).links.filter(f=>f.rel==="item"&&"datetime"in f).map(f=>new Date(f.datetime));r.value=[{bar:{style:{backgroundColor:d[b%d.length]}},dates:E}]}}},{immediate:!0})}),(o,i)=>(re(),Mt(qe,null,[T(ie(Vt),{modelValue:l.value,"onUpdate:modelValue":i[0]||(i[0]=c=>l.value=c),masks:a.value,attributes:r.value},{default:K(({inputValue:c,inputEvents:u})=>[pe("div",Mn,[pe("input",R({value:c},Dt(u,!0),{style:{margin:"1px"},class:"flex-grow px-1 py-1 bg-white dark:bg-gray-700"}),null,16,Rn)])]),_:1},8,["modelValue","masks","attributes"]),T(Rt,{align:"center",justify:"center",style:{"margin-top":"6px"}},{default:K(()=>[ue((re(),ke(Ce,{style:{padding:"0px","margin-right":"4px"},density:"compact",onClick:i[1]||(i[1]=c=>t(!0))},{default:K(()=>[T(Oe,{icon:[ie(_t)]},null,8,["icon"])]),_:1})),[[Fe,"Set date to oldest available dataset","bottom"]]),ue((re(),ke(Ce,{style:{padding:"0px","margin-left":"4px"},density:"compact",onClick:i[2]||(i[2]=c=>t(!1))},{default:K(()=>[T(Oe,{icon:[ie(Nt)]},null,8,["icon"])]),_:1})),[[Fe,"Set date to latest available dataset","bottom"]])]),_:1})],64))}};export{Hn as default};
